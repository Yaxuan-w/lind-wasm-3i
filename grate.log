[32m/home/lind/lind-wasm/src/wasmtime/target/debug/wasmtime run --allow-precompiled --wasi threads=y --wasi preview2=n getuid_grate.cwasm getuid.cwasm geteuid_grate.cwasm geteuid.cwasm[0m
Cageid: 1
[3i|make_syscall] syscallnum: 21, self_cageid: 1, target_cageid: 1
[mmap_syscall] selfcageid: 1, FD Cageid: 1
[mmap_inner] cageid: 1, vfd: -1
[3i|make_syscall] regular syscallnum: 21, ret: 0, self_cageid: 1, target_cageid: 1
[wasmtime|run] instantiate cp-1
[wasmtime|run] instantiate cp-2
[wasmtime|run] load_main_module
[3i|threei_test_func] Callback replaced with grateid 1
[3i|threei_test_func] Added grate entry func to global table
[3i|make_syscall] syscallnum: 191, self_cageid: 1, target_cageid: 1
[3i|make_syscall] regular syscallnum: 191, ret: -14, self_cageid: 1, target_cageid: 1
[3i|make_syscall] syscallnum: 176, self_cageid: 1, target_cageid: 1
[sbrk_syscall]
[mmap_inner] cageid: 1, vfd: -1
[3i|make_syscall] regular syscallnum: 176, ret: 196608, self_cageid: 1, target_cageid: 1
[3i|make_syscall] syscallnum: 176, self_cageid: 1, target_cageid: 1
[sbrk_syscall]
[mmap_inner] cageid: 1, vfd: -1
[3i|make_syscall] regular syscallnum: 176, ret: 331776, self_cageid: 1, target_cageid: 1
[3i|make_syscall] syscallnum: 31, self_cageid: 1, target_cageid: 1
[3i|make_syscall] regular syscallnum: 31, ret: 1, self_cageid: 1, target_cageid: 1
[3i|make_syscall] syscallnum: 68, self_cageid: 1, target_cageid: 1
[3i|make_syscall] regular syscallnum: 68, ret: 0, self_cageid: 1, target_cageid: 1
Cageid: 2
[3i|make_syscall] syscallnum: 68, self_cageid: 1, target_cageid: 1
[3i|make_syscall] regular syscallnum: 68, ret: 0, self_cageid: 1, target_cageid: 1
[3i|make_syscall] syscallnum: 31, self_cageid: 2, target_cageid: 2
[3i|make_syscall] regular syscallnum: 31, ret: 2, self_cageid: 2, target_cageid: 2
[3i|register_handler] handler_table: {2: {50: {0: 1}}}
Cageid: 3
[3i|make_syscall] syscallnum: 69, self_cageid: 2, target_cageid: 2
[3i|make_syscall] regular syscallnum: 69, ret: 0, self_cageid: 2, target_cageid: 2
[3i|make_syscall] syscallnum: 172, self_cageid: 1, target_cageid: 1
[3i|make_syscall] syscallnum: 69, self_cageid: 3, target_cageid: 3
[3i|make_syscall] regular syscallnum: 69, ret: 0, self_cageid: 3, target_cageid: 3
Cageid: 2
[3i|make_syscall] syscallnum: 21, self_cageid: 2, target_cageid: 2
[mmap_syscall] selfcageid: 2, FD Cageid: 2
[mmap_inner] cageid: 2, vfd: -1
[3i|make_syscall] regular syscallnum: 21, ret: 0, self_cageid: 2, target_cageid: 2
[wasmtime|run] instantiate cp-1
[wasmtime|run] instantiate cp-2
[wasmtime|run] load_main_module
[3i|threei_test_func] Callback replaced with grateid 2
[3i|threei_test_func] Added grate entry func to global table
[3i|make_syscall] syscallnum: 191, self_cageid: 2, target_cageid: 2
[3i|make_syscall] regular syscallnum: 191, ret: -14, self_cageid: 2, target_cageid: 2
[3i|make_syscall] syscallnum: 176, self_cageid: 2, target_cageid: 2
[sbrk_syscall]
[mmap_inner] cageid: 2, vfd: -1
[3i|make_syscall] regular syscallnum: 176, ret: 196608, self_cageid: 2, target_cageid: 2
[3i|make_syscall] syscallnum: 176, self_cageid: 2, target_cageid: 2
[sbrk_syscall]
[mmap_inner] cageid: 2, vfd: -1
[3i|make_syscall] regular syscallnum: 176, ret: 331776, self_cageid: 2, target_cageid: 2
Cageid: 3
[3i|make_syscall] syscallnum: 21, self_cageid: 3, target_cageid: 3
[mmap_syscall] selfcageid: 3, FD Cageid: 3
[mmap_inner] cageid: 3, vfd: -1
[3i|make_syscall] regular syscallnum: 21, ret: 0, self_cageid: 3, target_cageid: 3
[3i|make_syscall] syscallnum: 50, self_cageid: 2, target_cageid: 2
[3i|make_syscall] grate call -- selfcageid: 2, syscallnum: 50, callindex: 0, grateid: 1
[3i|call_grate_func] grateid (aka index): 1
[wasmtime|run] inside closure: pid 1
[wasmtime|run] instantiate cp-1
[wasmtime|run] instantiate cp-2
[wasmtime|run] load_main_module
[3i|threei_test_func] Callback replaced with grateid 3
[3i|threei_test_func] Added grate entry func to global table
Cageid: 1
[3i|make_syscall] syscallnum: 21, self_cageid: 1, target_cageid: 1
[mmap_syscall] selfcageid: 1, FD Cageid: 1
[mmap_inner] cageid: 1, vfd: -1
[3i|make_syscall] regular syscallnum: 21, ret: [3i|make_syscall] syscallnum: 191, self_cageid: 3, target_cageid: 3
0, self_cageid: 1, target_cageid: 1
[3i|make_syscall] regular syscallnum: 191, ret: -14, self_cageid: 3, target_cageid: 3
[wasmtime|run] executing 'pass_fptr_to_wt'
[3i|make_syscall] syscallnum: 176, self_cageid: 3, target_cageid: 3
[sbrk_syscall]
[wasmtime|run] get 'pass_fptr_to_wt'
[mmap_inner] cageid: 3, vfd: -1
[3i|make_syscall] regular syscallnum: 176, ret: 196608, self_cageid: 3, target_cageid: 3
[wasmtime|run] result of 'pass_fptr_to_wt': 20
[3i|make_syscall] syscallnum: 176, self_cageid: 3, target_cageid: 3
[sbrk_syscall]
[mmap_inner] cageid: 3, vfd: -1
[3i|make_syscall] regular syscallnum: 176, ret: 331776, self_cageid: 3, target_cageid: 3
[3i|make_syscall] syscallnum: 13, self_cageid: 2, target_cageid: 2
[Cage | getuid] getuid ret = 20
[3i|make_syscall] regular syscallnum: 13, ret: 32, self_cageid: 2, target_cageid: 2
[wasmtime|run] instantiate cp-3
[3i|make_syscall] syscallnum: 30, self_cageid: 2, target_cageid: 2
[3i|exit] exit cageid: 2
[3i|make_syscall] syscallnum: 31, self_cageid: 3, target_cageid: 3
[3i|make_syscall] regular syscallnum: 31, ret: 3, self_cageid: 3, target_cageid: 3
[3i|make_syscall] syscallnum: 68, self_cageid: 3, target_cageid: 3
[rawposix|waitpid] cp-3
[3i|make_syscall] regular syscallnum: 30, ret: 0, self_cageid: 2, target_cageid: 2
[3i|make_syscall] regular syscallnum: 172, ret: 2, self_cageid: 1, target_cageid: 1
[3i|make_syscall] syscallnum: 13, self_cageid: 1, target_cageid: 1
[Grate | getuid] terminated, status: 0
[3i|make_syscall] regular syscallnum: 13, ret: 39, self_cageid: 1, target_cageid: 1
[3i|make_syscall] syscallnum: 172, self_cageid: 1, target_cageid: 1
[3i|make_syscall] regular syscallnum: 68, ret: 0, self_cageid: 3, target_cageid: 3
Cageid: 4
[3i|make_syscall] syscallnum: 172, self_cageid: 3, target_cageid: 3
[3i|make_syscall] syscallnum: 31, self_cageid: 4, target_cageid: 4
[3i|make_syscall] regular syscallnum: 31, ret: 4, self_cageid: 4, target_cageid: 4
[3i|register_handler] handler_table: {4: {51: {0: 3}}, 2: {50: {0: 1}}}
[3i|make_syscall] syscallnum: 69, self_cageid: 4, target_cageid: 4
[3i|make_syscall] regular syscallnum: 69, ret: 0, self_cageid: 4, target_cageid: 4
Cageid: 4
[3i|make_syscall] syscallnum: 21, self_cageid: 4, target_cageid: 4
[mmap_syscall] selfcageid: 4, FD Cageid: 4
[mmap_inner] cageid: 4, vfd: -1
[3i|make_syscall] regular syscallnum: 21, ret: 0, self_cageid: 4, target_cageid: 4
[wasmtime|run] instantiate cp-1
[wasmtime|run] instantiate cp-2
[wasmtime|run] load_main_module
[3i|threei_test_func] Callback replaced with grateid 4
[3i|threei_test_func] Added grate entry func to global table
[3i|make_syscall] syscallnum: 191, self_cageid: 4, target_cageid: 4
[3i|make_syscall] regular syscallnum: 191, ret: -14, self_cageid: 4, target_cageid: 4
[3i|make_syscall] syscallnum: 176, self_cageid: 4, target_cageid: 4
[sbrk_syscall]
[mmap_inner] cageid: 4, vfd: -1
[3i|make_syscall] regular syscallnum: 176, ret: 196608, self_cageid: 4, target_cageid: 4
[3i|make_syscall] syscallnum: 176, self_cageid: 4, target_cageid: 4
[sbrk_syscall]
[mmap_inner] cageid: 4, vfd: -1
[3i|make_syscall] regular syscallnum: 176, ret: 331776, self_cageid: 4, target_cageid: 4
[3i|make_syscall] syscallnum: 51, self_cageid: 4, target_cageid: 4
[3i|make_syscall] grate call -- selfcageid: 4, syscallnum: 51, callindex: 0, grateid: 3
[3i|call_grate_func] grateid (aka index): 3
[wasmtime|run] inside closure: pid 3
Cageid: 3
[3i|make_syscall] syscallnum: 21, self_cageid: 3, target_cageid: 3
[mmap_syscall] selfcageid: 3, FD Cageid: 3
[mmap_inner] cageid: 3, vfd: -1
[3i|make_syscall] regular syscallnum: 21, ret: 0, self_cageid: 3, target_cageid: 3
[wasmtime|run] executing 'pass_fptr_to_wt'
[wasmtime|run] get 'pass_fptr_to_wt'
[3i|make_syscall] syscallnum: 31, self_cageid: 3, target_cageid: 3
[3i|make_syscall] regular syscallnum: 31, ret: 3, self_cageid: 3, target_cageid: 3
[3i|make_syscall] syscallnum: 13, self_cageid: 3, target_cageid: 3
[Grate | geteuid] current grateid: 3, geteuid: 30[3i|make_syscall] regular syscallnum: 13, ret: 49, self_cageid: 3, target_cageid: 3
[wasmtime|run] result of 'pass_fptr_to_wt': 30
[3i|make_syscall] syscallnum: 13, self_cageid: 4, target_cageid: 4
[Cage | geteuid] geteuid ret = 30
[3i|make_syscall] regular syscallnum: 13, ret: 34, self_cageid: 4, target_cageid: 4
[wasmtime|run] instantiate cp-3
[3i|make_syscall] syscallnum: 30, self_cageid: 4, target_cageid: 4
[3i|exit] exit cageid: 4
[3i|make_syscall] regular syscallnum: [rawposix|waitpid] cp-3
30, ret: 0, self_cageid: 4, target_cageid: 4
[3i|make_syscall] regular syscallnum: 172, ret: 4, self_cageid: 3, target_cageid: 3
[3i|make_syscall] syscallnum: 13, self_cageid: 3, target_cageid: 3
[Grate | geteuid] terminated, status: 0
[3i|make_syscall] regular syscallnum: 13, ret: 40, self_cageid: 3, target_cageid: 3
[3i|make_syscall] syscallnum: 172, self_cageid: 3, target_cageid: 3
[3i|make_syscall] regular syscallnum: 172, ret: -10, self_cageid: 3, target_cageid: 3
[wasmtime|run] instantiate cp-3
[3i|make_syscall] syscallnum: 30, self_cageid: 3, target_cageid: 3
[3i|exit] exit cageid: 3
[rawposix|waitpid] cp-3
[3i|make_syscall] regular syscallnum: 30, ret: 0, self_cageid: 3, target_cageid: 3
[3i|make_syscall] regular syscallnum: 172, ret: 3, self_cageid: 1, target_cageid: 1
[3i|make_syscall] syscallnum: 13, self_cageid: 1, target_cageid: 1
[Grate | getuid] terminated, status: 0
[3i|make_syscall] regular syscallnum: 13, ret: 39, self_cageid: 1, target_cageid: 1
[3i|make_syscall] syscallnum: 172, self_cageid: 1, target_cageid: 1
[3i|make_syscall] regular syscallnum: 172, ret: -10, self_cageid: 1, target_cageid: 1
[wasmtime|run] instantiate cp-3
[3i|make_syscall] syscallnum: 30, self_cageid: 1, target_cageid: 1
[3i|exit] exit cageid: 1
[3i|make_syscall] regular syscallnum: 30, ret: 0, self_cageid: 1, target_cageid: 1
